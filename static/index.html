<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SBOM Scanner</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        pre {
            background-color: #f4f4f4;
            padding: 1rem;
            border-radius: 6px;
            overflow-x: auto;
        }
        code {
            font-family: monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <h1>AI Powered SBOM Scanner</h1>
    <div>
        <label for="sbomInput">SBOM Source:</label>
        <input type="text" id="sbomInput" placeholder="Enter image or directory (e.g., ubuntu:latest, /path/to/dir, https://github.com/user/repo)">
        
    </div>
    
    <button onclick="generateSBOM()">Generate SBOM</button>
    <button onclick="scanSBOM()">Scan SBOM</button>
    
    <div id="progressContainer" style="margin-top: 20px; display: none;">
        <label>Progress:</label>
        <div style="background: #eee; border-radius: 4px; overflow: hidden; height: 20px;">
            <div id="progressBar" style="background: #007bff; height: 100%; width: 0%; color: white; text-align: center; font-size: 12px; line-height: 20px;">0%</div>
        </div>
    </div>

    <div id="results" style="margin-top: 20px; display: none;">
        <h2>Scan Result</h2>
        <div id="scanResultTable" style="margin-bottom: 1rem;"></div>
        <pre><code id="scanResult" class="bash"></code></pre>

        <h2>Remediation Explanation</h2>
        <pre><code id="remediationScript" class="bash"></code></pre>

        <h2>Remediation Commands</h2>
        <pre><code id="remediationCommands" class="bash"></code></pre>
        <div style="margin-top: 10px;">
            <button id="copyButton" onclick="copyToClipboard()" disabled>Copy Script</button>
            <button id="downloadButton" onclick="downloadScript()" disabled>Download Script</button>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip/dist/jszip.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
